(function(e){function t(t){for(var n,s,r=t[0],d=t[1],l=t[2],u=0,b=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&b.push(a[s][0]),a[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);i&&i(t);while(b.length)b.shift()();return o.push.apply(o,l||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],n=!0,r=1;r<c.length;r++){var d=c[r];0!==a[d]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=c[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=e,s.c=n,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(c,n,function(t){return e[t]}.bind(null,n));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static/src/vue/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var i=d;o.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"096a":function(e,t,c){},"2abf":function(e,t,c){"use strict";c("4746")},4746:function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("f2bf"),a={class:"container main"},o={class:"search"},s={class:"row download"},r=Object(n["d"])("p",null,null,-1);function d(e,t,c,d,l,i){var u=Object(n["i"])("Searchbar"),b=Object(n["i"])("CSVDownloader"),p=Object(n["i"])("Stockdetails");return Object(n["e"])(),Object(n["c"])("div",a,[Object(n["d"])("div",o,[Object(n["d"])(u,{onGetDetails:i.fetchStockDetails},null,8,["onGetDetails"])]),Object(n["d"])("div",s,[Object(n["d"])(b,{stockDetails:l.stockDetails},null,8,["stockDetails"])]),r,Object(n["d"])(p,{stockDetails:l.stockDetails},null,8,["stockDetails"])])}var l=c("1da1"),i=(c("96cf"),c("ac1f"),c("1276"),c("498a"),c("d3b7"),Object(n["m"])("data-v-3bb16486"));Object(n["g"])("data-v-3bb16486");var u={class:"shadow-lg p-3 mb-5 bg-body rounded searchAndPick"},b={class:"row g-3"},p={class:"col-md-5"},O={class:"col-md-3"},f={class:"col-sm-2"},j={class:"col-sm-2"},h={class:"dropdown"},m=Object(n["d"])("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}," Selections ",-1),v={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},k=Object(n["d"])("p",null,null,-1),S={class:"text-muted"},g=Object(n["d"])("p",null,null,-1),y={class:"row"},w=Object(n["d"])("div",{class:"col"},null,-1),C={class:"col"},D=Object(n["d"])("div",{class:"col"},null,-1);Object(n["f"])();var N=i((function(e,t,c,a,o,s){var r=Object(n["i"])("DisplaySelectedstocks"),d=Object(n["i"])("Matches");return Object(n["e"])(),Object(n["c"])("div",u,[Object(n["d"])("form",b,[Object(n["d"])("div",p,[Object(n["l"])(Object(n["d"])("input",{onInput:t[1]||(t[1]=function(){return s.searchStock&&s.searchStock.apply(s,arguments)}),id:"selectedStock","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.stockName=e}),type:"text",class:"form-control",placeholder:"Enter name of the stock here.","aria-label":"Recipient's username","aria-describedby":"button-addon2"},null,544),[[n["k"],o.stockName]])]),Object(n["d"])("div",O,[Object(n["d"])("input",{class:"form-control",id:"date",type:"date",onInput:t[3]||(t[3]=function(){return s.selectDate&&s.selectDate.apply(s,arguments)})},null,32)]),Object(n["d"])("div",f,[Object(n["d"])("button",{onClick:t[4]||(t[4]=function(){return s.handleAdd&&s.handleAdd.apply(s,arguments)}),class:"btn btn-success addBtn",type:"button",id:"button-addon2"},"Add")]),Object(n["d"])("div",j,[Object(n["d"])("div",h,[m,Object(n["d"])("div",v,[Object(n["d"])(r,{selectedStocks:o.selectedStocks},null,8,["selectedStocks"])])])])]),k,Object(n["d"])("small",S,Object(n["j"])(o.matchedStockNames.length>0?"Matching stocks found...":"No Matching stocks found.."),1),Object(n["d"])(d,{onStockSelected:s.handleSelection,matchedList:o.matchedStockNames},null,8,["onStockSelected","matchedList"]),g,Object(n["d"])("div",y,[w,Object(n["d"])("div",C,[Object(n["d"])("button",{onClick:t[5]||(t[5]=function(){return s.getDetails&&s.getDetails.apply(s,arguments)}),class:"btn btn-primary searchBtn"},"Get Details")]),D])])})),E=c("2909"),L=(c("159b"),c("99af"),c("4d63"),c("25f0"),c("fb6a"),c("4de4"),Object(n["m"])("data-v-647efd12")),A=L((function(e,t,c,a,o,s){var r=Object(n["i"])("Match");return Object(n["e"])(),Object(n["c"])("div",null,[(Object(n["e"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(c.matchedList,(function(t,c){return Object(n["e"])(),Object(n["c"])("div",{class:"suggest",key:c},[Object(n["d"])(r,{onStockSelected:function(c){return e.$emit("stock-selected",t)},matchedValue:t},null,8,["onStockSelected","matchedValue"])])})),128))])})),x=Object(n["m"])("data-v-6ce2d0c8"),_=x((function(e,t,c,a,o,s){return Object(n["e"])(),Object(n["c"])("span",{onClick:t[1]||(t[1]=function(t){return e.$emit("stock-selected",c.matchedValue)}),class:"badge rounded-pill bg-light text-dark matchedValue"},Object(n["j"])(c.matchedValue),1)})),M={name:"Match",props:{matchedValue:String}};c("c590");M.render=_,M.__scopeId="data-v-6ce2d0c8";var I=M,P={name:"Matches",props:{matchedList:Array},components:{Match:I}};c("9e80");P.render=A,P.__scopeId="data-v-647efd12";var T=P,V={class:"dropdown-item"};function R(e,t,c,a,o,s){return Object(n["e"])(),Object(n["c"])("div",null,[(Object(n["e"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(c.selectedStocks,(function(e,t){return Object(n["e"])(),Object(n["c"])("div",{key:t},[Object(n["d"])("span",V,Object(n["j"])(e.stockName),1)])})),128))])}var H={name:"DisplaySelectedstocks",props:{selectedStocks:Array}};H.render=R;var B=H,G={name:"Searchbar",components:{Matches:T,DisplaySelectedstocks:B},data:function(){return{stockName:"",stockNames:[],matchedStockNames:[],selectedStock:"",selectedStocks:[],selectedDate:""}},methods:{searchStock:function(e){var t=e.target.value,c="";""!==t?(Object(E["a"])(t).forEach((function(e){return c+="[".concat(e.toUpperCase()).concat(e.toLowerCase(),"]")})),c="^"+c+".*",c=new RegExp(c),this.matchedStockNames=this.stockNames.filter((function(e){return c.test(e)})).slice(0,9)):this.matchedStockNames=[]},handleSelection:function(e){this.$emit("stock-selected",e),this.selectedStock=e,document.getElementById("selectedStock").value=e},selectDate:function(e){var t=e.target.value;this.date=t},handleAdd:function(){var e={stockName:this.selectedStock,date:this.date};this.selectedStocks.push(e)},getDetails:function(){var e={data:this.selectedStocks};this.$emit("get-details",e),this.selectedStocks=[],document.getElementById("selectedStock").value="",document.getElementById("date").value="",this.matchedStockNames=[],this.stockName=""}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var c,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://ec2-3-223-158-5.compute-1.amazonaws.com/api/stocks");case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,a=n.stockNames,e.stockNames=a;case 8:case"end":return t.stop()}}),t)})))()}};c("7f04");G.render=N,G.__scopeId="data-v-3bb16486";var U=G,W=Object(n["m"])("data-v-7653db71");Object(n["g"])("data-v-7653db71");var $={class:"container"},F={class:"table-responsive"},J={class:"table"},q=Object(n["d"])("thead",null,[Object(n["d"])("tr",null,[Object(n["d"])("th",{scope:"col"},"Name"),Object(n["d"])("th",{scope:"col"},"Stock Code"),Object(n["d"])("th",{scope:"col"},"OPEN"),Object(n["d"])("th",{scope:"col"},"HIGH"),Object(n["d"])("th",{scope:"col"},"LOW"),Object(n["d"])("th",{scope:"col"},"CLOSE"),Object(n["d"])("th",{scope:"col"},"LAST")])],-1);Object(n["f"])();var z=W((function(e,t,c,a,o,s){return Object(n["e"])(),Object(n["c"])("div",$,[Object(n["d"])("div",F,[Object(n["d"])("table",J,[q,Object(n["d"])("tbody",null,[(Object(n["e"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(c.stockDetails,(function(e,t){return Object(n["e"])(),Object(n["c"])("tr",{key:t},[(Object(n["e"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(o.requiredFields,(function(t,c){return Object(n["e"])(),Object(n["c"])("td",{class:"".concat(o.backgroundColors[t]),key:c},Object(n["j"])(e[t]),3)})),128))])})),128))])])])])})),X={name:"Stockdetails",data:function(){return{backgroundColors:{OPEN:"table-warning",HIGH:"table-success",LOW:"table-danger",CLOSE:"table-info",LAST:"table-secondary"},requiredFields:["SC_NAME","SC_CODE","OPEN","HIGH","LOW","CLOSE","LAST"]}},props:{stockDetails:Array}};c("e0f2");X.render=z,X.__scopeId="data-v-7653db71";var K=X,Q={class:"row"},Y=Object(n["d"])("div",{class:"col"},null,-1),Z=Object(n["d"])("div",{class:"col"},null,-1),ee=Object(n["d"])("div",{class:"col"},null,-1),te={class:"col"},ce={download:""};function ne(e,t,c,a,o,s){return Object(n["e"])(),Object(n["c"])("div",Q,[Y,Z,ee,Object(n["d"])("div",te,[Object(n["d"])("a",ce,[Object(n["d"])("button",{onClick:t[1]||(t[1]=function(){return s.prepareCsv&&s.prepareCsv.apply(s,arguments)}),class:"btn btn-link searchBtn btn-sm",id:"download"},"EXPORT AS CSV")])])])}c("d81d"),c("a15b"),c("3ca3"),c("ddb0"),c("2b3d");var ae={name:"CSVDownloader",data:function(){return{csvString:"",display:"none"}},methods:{prepareCsv:function(){var e=this;this.csvString+="NAME,CODE,OPEN,HIGH,LOW,CLOSE,LAST",this.stockDetails.map((function(t){var c=t.SC_NAME,n=t.SC_CODE,a=t.OPEN,o=t.HIGH,s=t.LOW,r=t.CLOSE,d=t.LAST,l=[c,n,a,o,s,r,d];e.csvString+="\n"+l.join()}));var t=new Blob([this.csvString],{type:"text/csv;charset=utf-8"}),c=document.createElement("a"),n=URL.createObjectURL(t);c.setAttribute("href",n),c.setAttribute("download","DETAILS.CSV"),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}},props:{stockDetails:Array}};ae.render=ne;var oe=ae,se={name:"App",components:{Searchbar:U,Stockdetails:K,CSVDownloader:oe},data:function(){return{stockDetails:[]}},methods:{getCookie:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var c=document.cookie.split(";"),n=0;n<c.length;n++){var a=c[n].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t},fetchStockDetails:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function c(){var n,a,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=t.getCookie("csrftoken"),c.next=3,fetch("http://ec2-3-223-158-5.compute-1.amazonaws.com/api/stocks/details",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify(e)});case 3:return a=c.sent,c.prev=4,c.next=7,a.json();case 7:o=c.sent,t.stockDetails=o,c.next=14;break;case 11:c.prev=11,c.t0=c["catch"](4),console.log(c.t0);case 14:case"end":return c.stop()}}),c,null,[[4,11]])})))()}}};c("2abf");se.render=d;var re=se;Object(n["b"])(re).mount("#app")},"7f04":function(e,t,c){"use strict";c("f9e4")},"9e80":function(e,t,c){"use strict";c("a532")},a532:function(e,t,c){},b272:function(e,t,c){},c590:function(e,t,c){"use strict";c("b272")},e0f2:function(e,t,c){"use strict";c("096a")},f9e4:function(e,t,c){}});
//# sourceMappingURL=app.js.map